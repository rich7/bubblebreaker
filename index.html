<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BubbleBreaker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .bubble {
            width: 100%;
            padding-top: 100%;
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            box-shadow: inset -3px -3px 8px rgba(0,0,0,0.3),
                        inset 3px 3px 8px rgba(255,255,255,0.5);
            transition: transform 0.3s ease-out;
            transform-origin: center;
        }
        
        .bubble:hover {
            transform: scale(1.1);
            box-shadow: inset -4px -4px 10px rgba(0,0,0,0.4),
                        inset 4px 4px 10px rgba(255,255,255,0.6);
        }
        
        .bubble:disabled {
            cursor: default;
            transform: none;
            box-shadow: none;
        }
        
        .fallback-styles {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f3f4f6;
        }
        
        .bubble-container {
            position: relative;
            width: 100%;
            transition: transform 0.3s ease-out;
        }

        .game-container {
            max-width: 500px;
            margin: 0 auto;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 8px;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body class="fallback-styles">
    <div id="root"></div>

    <script type="text/babel">
        import React, { useState, useEffect } from 'react';

        const COLORS = ['bg-red-500', 'bg-blue-500', 'bg-green-500', 'bg-yellow-500', 'bg-purple-500'];
        const GRID_SIZE = 8;
        const ANIMATION_DURATION = 300;

        const BubbleBreaker = () => {
            const [grid, setGrid] = useState([]);
            const [score, setScore] = useState(0);
            const [highScore, setHighScore] = useState(() => 
                parseInt(localStorage.getItem('bubblebreaker-highscore')) || 0
            );
            const [gameOver, setGameOver] = useState(false);
            const [moves, setMoves] = useState(0);
            const [hint, setHint] = useState(null);
            
            // Rest van de logica blijft hetzelfde als in de vorige versie...
            
            return (
                <div className="bg-white p-8 rounded-xl shadow-2xl max-w-2xl mx-auto">
                    <h1 className="text-3xl font-bold text-center mb-6">BubbleBreaker</h1>
                    
                    <div className="flex justify-between items-center mb-6">
                        <div>
                            <div className="text-xl">Score: <span className="font-bold">{score}</span></div>
                            <div className="text-sm">Zetten: {moves}</div>
                        </div>
                        <div>
                            <div className="text-xl">Highscore: <span className="font-bold text-blue-600">{highScore}</span></div>
                            <button 
                                onClick={findHint}
                                className="text-sm text-blue-500 hover:text-blue-600"
                            >
                                Hint
                            </button>
                        </div>
                    </div>

                    <div className="grid-container">
                        {grid.map((row, rowIndex) =>
                            row.map((bubble, colIndex) => (
                                <div 
                                    key={`${rowIndex}-${colIndex}-${bubble?.id || 'empty'}`}
                                    className="bubble-container"
                                >
                                    <div
                                        className={`bubble ${bubble ? bubble.color : 'bg-gray-200'} 
                                            ${hint?.some(([r, c]) => r === rowIndex && c === colIndex) ? 'ring-4 ring-white ring-opacity-50' : ''}`}
                                        onClick={() => bubble && handleBubbleClick(rowIndex, colIndex)}
                                        role="button"
                                        tabIndex={0}
                                    />
                                </div>
                            ))
                        )}
                    </div>

                    {gameOver && (
                        <div className="mb-6 p-4 bg-yellow-100 rounded-lg">
                            <p className="text-yellow-800">Game Over! Geen zetten meer beschikbaar.</p>
                        </div>
                    )}

                    <button 
                        onClick={initializeGrid}
                        className="w-full bg-blue-500 text-white py-3 px-6 rounded-lg text-xl font-bold
                            hover:bg-blue-600 transition-colors shadow-lg hover:shadow-xl"
                    >
                        Nieuw Spel
                    </button>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<BubbleBreaker />);
    </script>
</body>
</html>
